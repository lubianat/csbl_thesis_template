% Monograph LaTeX Template for UFSC based on:
%
% 1. https://github.com/royertiago/tcc
% 2. http://portal.bu.ufsc.br/normalizacao/
% 3. https://github.com/AdrianoRuseler/abntex2-ufsc

% You need to run `pdfTeX` 5 times on the following order: 1. `pdfTeX`, 2. `biber`, 3. `pdfTeX` 4.
% `pdfTeX` 5. `pdfTeX` 6. `biber` 7. `pdfTeX`, when the bibliography includes a cyclic reference to
% another bibliography, so we need a last pass to fix the bibliography undefined references.

% Includes and fixes several `abntex2` class problems
% Must be included before loading class
\input{setup/setup}

% Uses abntex2 class
\documentclass[
10pt, %Padrão UFSC para versão final
a5paper, %Padrão UFSC para versão final
% 12pt, %Pode usar tamanho 12pt para defesa
% a4paper, %Pode usar a4 para defesa
twoside, % Impressão nos dois lados da folha
chapter=TITLE, % Título de capítulos em caixa alta
section=TITLE  % Título de seções em caixa alta
]{abntex2}
% The UFSC font size is 10.5, but memoir embbeded on `abntex2` only accepts 10 and 11pt. However
% this will be fixed later by the ufscthesisx package.
% You can see whether the font sizes are correct with the \f@size at the `\begin{document}`.


%----------------------------------------------------------------------------------------
%   MINOR CORRECTIONS BEFORE LOADING UFSCThesis settings
%----------------------------------------------------------------------------------------
% How can I put more space between bibliography entries (biblatex)
% https://tex.stackexchange.com/questions/19105/how-can-i-put-more-space-between-bibliography-entries-biblatex
% \setlength\bibitemsep{2.1\itemsep}


% % Reduce font size of bibliography; overfull bibliography
% % https://tex.stackexchange.com/questions/203764/reduce-font-size-of-bibliography-overfull-bibliography
% \newcommand{\bibliographyfontsize}{\fontsize{10.0pt}{10.5pt}\selectfont}
% \renewcommand*{\bibfont}{\bibliographyfontsize}

% % How to correctly insert and justify abstract paragraph on my bibliography?
% % https://tex.stackexchange.com/questions/398666/how-to-correctly-insert-and-justify-abstract
% \DeclareFieldFormat{abstract}%
% {%
%     \vspace*{-0.5mm}\par\justifying
%     \begin{adjustwidth}{1cm}{}
%         \textbf{\bibsentence\bibstring{abstract}:} #1
%     \end{adjustwidth}
% }

% \renewbibmacro*{finentry}%
% {%
%     \iffieldundef{abstract}
%     {\finentry}
%     {\finentrypunct
%         \printfield{abstract}%
%         \renewcommand*{\finentrypunct}{}%
%         \finentry
%     }
% }

%----------------------------------------------------------------------------------------
%   LOAD UFSCThesis style
%----------------------------------------------------------------------------------------
\usepackage{setup/ufscthesisx}

% Load all required basic packages
\input{setup/utilities}




% FIXME Substituir 'Nome completo do autor' pelo seu nome.
\autor{Nome completo do autor(a)}

% FIXME Substituir 'Título do trabalho' pelo título da trabalho.
\titulo{Título do trabalho}
% FIXME Substituir 'Subtítulo (se houver)' pelo subtítulo da trabalho.  
% Caso não tenha substítulo, comente a linha a seguir.
\subtitulo{Subtítulo (se houver)}
% FIXME Se estiver defendendo uma dissertação de mestrado, descomente a linha a seguir.
% \def\mestrado{}



% FIXME Substituir 'Nome do orientador' pelo nome do seu
% orientador.
% \orientador{Nome do orientador, Dr.}
% FIXME Se for orientado por uma mulher, descomente a linha acima e comente a linha a seguir.
\orientador[Orientadora]{Nome da orientadora, Dra.}


% FIXME Substituir 'Nome do coorientador' pelo nome do seu
% coorientador. Caso não tenha coorientador, comente a linha a seguir.
\coorientador{Nome do coorientador, Dr.}
% FIXME Se for coorientado por uma mulher, comente a linha acima e descomente a linha a seguir.
% \coorientador[Coorientadora]{Nome da coorientadora, Dra.}


% FIXME Se for coorientado por uma mulher, descomente a linha a seguir.

% FIXME Substituir 'Nome do Coordenador' pelo nome do Coordenador do 
% programa/curso.
\coordenador{Nome do Coordenador, Dr.}
% FIXME Se for coordenadora mulher, comente a linha acima e descomente a linha a seguir.
% \coordenador[Coordenadora]{Nome da Coordenadora, Dra.}

% FIXME Substituir '2018' pelo ano (ou mês e ano) em que seu trabalho foi defendido.
\ano{2018}

% FIXME Substituir '\today' pela data em que ocorreu sua defesa.
\data{\today}

% FIXME Substituir 'Local' pela cidade em que ocorreu sua defesa.
\local{Local}

\instituicaosigla{UFSC}
\instituicao{Universidade Federal de Santa Catarina}
\biblioteca{Biblioteca Universitária}


% FIXME Substituir 'Tese' pelo tipo de trabalho (Tese, Dissertação, Monografia, Trabalho de Conclusão de Curso). 
\tipotrabalho{Tese}
% FIXME Se estiver apresentando um Trabalho de Conclusão de Curso, descomente a linha a seguir.
% \def\tcc{}

% FIXME Substituir 'Área de Concentração' pela área de concentração. 
% Caso não tenha área de concentração, comente a linha a seguir.
% \area{Área de Concentração}


% FIXME Substituir 'Doutor em XXXXXX' pela grau adequado.
\formacao{Doutor em XXXXXX}

% FIXME Substituir 'Programa de Pós-Graduação em XXXXXX' pela curso adequado.
\programa{Programa de Pós-Graduação em XXXXXX}

% FIXME Substituir 'Departamento de XXXXXX, Centro de XXXXXX' pela departamento e centro adequado.
\centro{Departamento de XXXXXX, Centro de XXXXXX}


%----------------------------------------------------------------------------------------
%   Inserir palavras-chave aqui para aparecer na ficha-catalográfica.
%----------------------------------------------------------------------------------------

% Coloque aqui as palavras-chave em portugues
\newcommand{\palavraschaveportugues}
{%
    \item \LaTeX. \item \abnTeX. \item editoração de texto.
}
% Insert here the keyworkds in english
\newcommand{\palavraschaveingles}
{%
    \item \LaTeX. \item \abnTeX. \item text publishing.
}


% Altere o arquivo settings.tex para incluir suas configurações.
\input{settings}


% Utilize o arquivo aftertext/references.bib para incluir sua bibliografia.
\addbibresource{aftertext/references.bib}


% When writing a large document, it is sometimes useful to work on selected sections of the document
% to speed up compilation time: https://en.wikibooks.org/wiki/TeX/includeonly
\newif\ifforcedinclude\forcedincludefalse

% \addtoincludeonly{beforetext/agradecimentos}
% \addtoincludeonly{beforetext/epigrafe}
% \addtoincludeonly{beforetext/fichacatalografica}
% \addtoincludeonly{beforetext/folhadeaprovacao}
% \addtoincludeonly{beforetext/resumos}
% \addtoincludeonly{beforetext/siglas}
% \addtoincludeonly{beforetext/simbolos}

% \addtoincludeonly{chapters/intro}
% \addtoincludeonly{chapters/chapter_1}
% \addtoincludeonly{chapters/chapter_2}
% \addtoincludeonly{chapters/chapter_3}
% \addtoincludeonly{chapters/chapter_4}
% \addtoincludeonly{chapters/conclusion}

% \addtoincludeonly{aftertext/anexo_a}
% \addtoincludeonly{aftertext/anexo_b}
% \addtoincludeonly{aftertext/apendice_a}

% Control whether the full document will be generated
% \doincludeonly
% \forcedincludetrue



% %----------------------------------------------------------------------------------------
% %   DOCUMENT CONTENTS
% %----------------------------------------------------------------------------------------
\begin{document}

    % Comment this after finishing the thesis, so you can start fixing the \flushbottom vs \raggedbottom
    % https://tex.stackexchange.com/questions/65355/flushbottom-vs-raggedbottom
    \raggedbottom

    % Retira espaço extra obsoleto entre as frases `Double space between sentences`
    % https://tex.stackexchange.com/questions/4705/double-space-between-sentences
    \frenchspacing

    % ELEMENTOS PRÉ-TEXTUAIS
    \input{setup/beforetext}



    % ELEMENTOS TEXTUAIS
    \textual

    % To automatically put a [Go To Top/Back] ←← | ← on each section
    % \addGoToSummary

    \setlength\beforechapskip{50pt}
    \setlength\midchapskip{20pt}
    \setlength\afterchapskip{20pt}

    % Introdução (exemplo de capítulo sem numeração, mas presente no Sumário)
    \include{chapters/intro}

    % PARTE
    % \ifforcedinclude\else\part{Preparação da pesquisa}\fi

    % Capitulo com exemplos de comandos inseridos de arquivo externo
    \include{chapters/chapter_1}

    % PARTE
    % \ifforcedinclude\else\part{Referenciais teóricos}\fi

    % Capitulo de revisão de literatura
    \include{chapters/chapter_2}

    % PARTE
    % \ifforcedinclude\else\part{Resultados}\fi

    % Primeiro capitulo de Resultados
    \include{chapters/chapter_3}

    % Segundo capitulo de Resultados
    \include{chapters/chapter_4}



    % Finaliza a parte no bookmark do PDF
    % para que se inicie o bookmark na raiz
    % e adiciona espaço de parte no Sumário
    \phantompart

    % Conclusão (outro exemplo de capítulo sem numeração e presente no sumário)
    \include{chapters/conclusion}



    % ELEMENTOS PÓS-TEXTUAIS
    \postextual
    \setlength\beforechapskip{0pt}
    \setlength\midchapskip{15pt}
    \setlength\afterchapskip{15pt}

    % Referências bibliográficas
    \begingroup
        % Using BibTeX to make a list of references without having citations in the body of the document?
        % https://tex.stackexchange.com/questions/17128/using-bibtex-to-make-a-list-of-references-without
        % \nocite{*}

        % How to modify line spacing per entry of bibliography?
        % https://tex.stackexchange.com/questions/163559/how-to-modify-line-spacing-per-entry-of-bibliography
        \linespread{1.18}\selectfont
        \printbibliography
    \endgroup

    % Glossário, consulte o manual da classe abntex2 para orientações sobre o glossário.
    % \ifforcedinclude\else\glossary\fi

    % Apêndices, inicia os apêndices
    \begin{apendicesenv}
        % Imprime uma página indicando o início dos apêndices
        \ifforcedinclude\else\partapendices\fi

        \setlength\beforechapskip{50pt}
        \setlength\midchapskip{20pt}
        \setlength\afterchapskip{20pt}

        \include{aftertext/apendice_a}
    \end{apendicesenv}

    % Anexos, inicia os anexos
    \begin{anexosenv}
        % Imprime uma página indicando o início dos anexos
        \ifforcedinclude\else\partanexos\fi

        \setlength\beforechapskip{50pt}
        \setlength\midchapskip{20pt}
        \setlength\afterchapskip{20pt}

        \include{aftertext/anexo_a}
        \include{aftertext/anexo_b}
    \end{anexosenv}

    % INDICE REMISSIVO
    \ifforcedinclude\else
        \phantompart
        \printindex
    \fi

\end{document}

